<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<header>
    <h1>Pokedex</h1>

    </button>

</header>
<body>
    <button class="nav-button mega-button">
        <img src="download.png" alt="new-button">
    </button>
    
<div id="pokedex">
    <button id="prev" class="nav-button">
        <i class="fa-solid fa-arrow-left"></i>
    </button>
  
    <div id="pokemon-container"></div>
   
    <button id="next" class="nav-button">
        <i class="fa-solid fa-arrow-right"></i>

    </button>

        
    </button>
    
    
</div>

<script>
    const pokemonContainer = document.getElementById('pokemon-container');
    const prevButton = document.getElementById('prev');
    const nextButton = document.getElementById('next');

    let currentPokemonIndex = 1;
    const totalPokemons = 151;

    async function fetchPokemonData(id) {
        const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
        if (!response.ok) {
            throw new Error(`Error fetching Pokémon with ID: ${id}`);
        }
        return response.json();
    }

    async function displayPokemon() {
        try {
            const data = await fetchPokemonData(currentPokemonIndex);
            const gifSrc = `Hd-sprites-master/(${currentPokemonIndex}) - ${data.name}.gif`.toLowerCase();

            pokemonContainer.innerHTML = `
                <div class="pokemon">
                    <div class="pokemon-number">#${String(currentPokemonIndex).padStart(3, '0')}</div>
                    <h3>${data.name.charAt(0).toUpperCase() + data.name.slice(1)}</h3>
                    <img src="${gifSrc}" alt="${data.name}" onerror="this.onerror=null; this.src='default.png';">
                    <p>Peso: ${data.weight / 10} kg</p>
                    <p>Habilidades: ${data.abilities.map(ability => ability.ability.name).join(', ')}</p>
                </div>
            `;

            // Criando balões para os tipos
            const typesContainer = document.createElement('div');
            data.types.forEach(type => {
                const span = document.createElement('span');
                span.className = 'type-badge';
                span.textContent = type.type.name.charAt(0).toUpperCase() + type.type.name.slice(1);
                typesContainer.appendChild(span);
            });
            pokemonContainer.appendChild(typesContainer);
        } catch (error) {
            console.error(error);
            pokemonContainer.innerHTML = '<p>Erro ao carregar o Pokémon.</p>';
        }
    }

    function updatePokemon(direction) {
        currentPokemonIndex += direction;
        if (currentPokemonIndex < 1) currentPokemonIndex = 1;
        if (currentPokemonIndex > totalPokemons) currentPokemonIndex = totalPokemons;
        displayPokemon();
    }

    prevButton.addEventListener('click', () => updatePokemon(-1));
    nextButton.addEventListener('click', () => updatePokemon(1));

    displayPokemon();
</script>
<script>
    async function displayPokemon() {
    try {
        const data = await fetchPokemonData(currentPokemonIndex);
        const gifSrc = `Hd-sprites-master/(${currentPokemonIndex}) - ${data.name}.gif`.toLowerCase();

        pokemonContainer.innerHTML = `
            <div class="pokemon">
                <div class="pokemon-number">#${String(currentPokemonIndex).padStart(3, '0')}</div>
                <h3>${data.name.charAt(0).toUpperCase() + data.name.slice(1)}</h3>
                <img src="${gifSrc}" alt="${data.name}" onerror="this.onerror=null; this.src='default.png';">
                <p>Peso: ${data.weight / 10} kg</p>
                <p>Habilidades: ${data.abilities.map(ability => ability.ability.name).join(', ')}</p>
            </div>
        `;

        // Criando balões para os tipos
        const typesContainer = document.createElement('div');
        data.types.forEach(type => {
            const span = document.createElement('span');
            span.className = 'type-badge';
            span.setAttribute('data-type', type.type.name); // Define o tipo como atributo data
            span.textContent = type.type.name.charAt(0).toUpperCase() + type.type.name.slice(1);
            typesContainer.appendChild(span);
        });
        pokemonContainer.appendChild(typesContainer);
    } catch (error) {
        console.error(error);
        pokemonContainer.innerHTML = '<p>Erro ao carregar o Pokémon.</p>';
    }
}

</script>
</body>
</html>
